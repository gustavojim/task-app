import{d as T,g as f,_ as I,u as H,a as R,r as u,c as V,o as B,b as p,e as k,f as s,w as E,h as v,v as g,F as b,i as M,j as O,l as A,k as C,p as D,m as F,n as L}from"./index.524a6efe.js";const N=T("task",{state:()=>({tasks:[]}),actions:{async setTask(){const o=await f();this.tasks=await o,console.log(this.tasks)},updateTask(o,e){},deleteTask(o){const e=this.tasks.findIndex(c=>c.id===o);return console.log("este es el index",e),this.tasks.splice(e,1)},async addTask(o){const e=await f();this.tasks=await e}},persist:{enabled:!0,strategies:[{key:"task",storage:localStorage}]}}),U={};const t=o=>(D("data-v-5f1a5722"),o=o(),F(),o),j=t(()=>s("h1",null,"Home",-1)),$={class:"container is-fluid is-max-tablet container-task"},q=["onSubmit"],z=t(()=>s("br",null,null,-1)),G=t(()=>s("h1",null,"Add a new task to your list:",-1)),J=t(()=>s("br",null,null,-1)),K=t(()=>s("br",null,null,-1)),P=t(()=>s("br",null,null,-1)),Q=t(()=>s("button",{class:"button is-dark is-rounded is-medium is-responsive"},"Save",-1)),W={class:"columns is-multiline"},X=t(()=>s("span",{class:"icon"},[s("i",{class:"fa-regular fa-hand-peace"})],-1)),Y=t(()=>s("span",null,"Log out",-1)),Z=[X,Y],ss=t(()=>s("span",{class:"separacion"},null,-1)),es=t(()=>s("h1",{class:"content is-small"},"Remember to come back soon!",-1)),ts={__name:"Home",setup(o){const e=N(),c=H(),w=R(),l=u(""),d=u(!1),n=u(""),h=u(""),_=u(!1),x=V(()=>h.value==0?e.tasks.filter(a=>a.is_completed):h.value==1?e.tasks.filter(a=>!a.is_completed):e.tasks),m=async()=>{const a=await f();e.setTask(a),console.log(e.tasks)};B(async()=>{await m()});const S=async()=>{if(l.value.length>0?d.value=!1:d.value=!0,n.value.length>0?_.value=!1:_.value=!0,console.log(l.value,n.value),d.value===!1&&_.value===!1){let a={user_id:c.id,title:l.value,description:n.value};console.log(a),await L(a)===!0&&console.log("new task created"),m(),l.value="",n.value=""}else console.log("falta rellenar")},y=async()=>{await A()===!0?(console.log("log out ok"),w.push({name:"login"}),c.logout(),console.log(c.id)):console.log("a problem with the action")};return(a,r)=>(p(),k(b,null,[j,s("div",$,[s("form",{class:"box box-task",onSubmit:E(S,["prevent"])},[z,G,J,v(s("input",{"onUpdate:modelValue":r[0]||(r[0]=i=>l.value=i),class:"input",type:"text",placeholder:"Title"},null,512),[[g,l.value]]),K,v(s("textarea",{"onUpdate:modelValue":r[1]||(r[1]=i=>n.value=i),class:"textarea",placeholder:"Description"},null,512),[[g,n.value]]),P,Q],40,q),s("div",W,[(p(!0),k(b,null,M(O(x),i=>(p(),k("div",{class:"column is-12-mobile is-4-tablet is-3-desktop",key:i.id},[C(U,{task:i},null,8,["task"])]))),128))]),s("div",{class:"container is-fluid container-button"},[s("button",{class:"button is-success is-outlined is-rounded is-small is-responsive",onClick:y},Z),ss,es])])],64))}},as=I(ts,[["__scopeId","data-v-5f1a5722"]]);export{as as default};
