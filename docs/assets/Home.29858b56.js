import{_ as N,r as i,u as V,o as k,c as p,a as e,t as $,n as h,b as B,d as A,e as E,f as y,w as T,v as b,g as S,p as I,h as F,i as H,j as L,k as M,l as q,m as C,q as R,F as D,s as G,x as J,N as K,y as O}from"./index.9cad6060.js";const P=t=>(I("data-v-4dd9564c"),t=t(),F(),t),Q={class:"card"},W={key:0},X={class:"card-header-title"},Y={class:"content"},Z=P(()=>e("br",null,null,-1)),ee={class:"card-footer"},te={key:1,class:"card"},se={class:"card-header header"},ae={class:"card-content"},oe={class:"card-footer"},le={__name:"TaskList",props:["task"],setup(t){const s=t,r=i(s.task.title),n=i(s.task.description),_=V(),o=i(!1),v=i(s.task.title);console.log("New done: "+v);const l=()=>(console.log(o.value),o.value=!o.value),m=async()=>{let c={title:r.value,description:n.value};await S(s.task.id,c)===!0&&(o.value=!o.value,_.updateTask(s.task.id,c))},w=async()=>{console.log("New done 2: "+v);let c={done:v.value,title:r.value,description:n.value};console.log(c),await S(s.task.id,c)===!0&&_.updateTask(s.task.id,c)};return i(""),(c,a)=>(k(),p("div",Q,[o.value?y("",!0):(k(),p("div",W,[e("header",{class:h({"card-header header":!0,"":!t.task.done})},[e("p",X,$(t.task.title),1)],2),e("div",{class:h({done:t.task.done,"":!t.task.done})},[e("div",Y,[B($(t.task.description)+" ",1),Z])],2),e("footer",ee,[e("button",{class:"card-footer-item button is-success is-light",onClick:a[0]||(a[0]=d=>w(s.task.id))}," Done "),e("button",{class:"card-footer-item is-link is-light button",onClick:a[1]||(a[1]=d=>l(s.task.id))}," Edit "),e("button",{class:"card-footer-item button is-danger is-light",onClick:a[2]||(a[2]=d=>A(E)(s.task.id))}," Delete ")])])),o.value?(k(),p("div",te,[e("header",se,[T(e("input",{"onUpdate:modelValue":a[3]||(a[3]=d=>r.value=d),class:"input m-4",type:"text",placeholder:"New Title"},null,512),[[b,r.value]])]),e("div",ae,[T(e("textarea",{"onUpdate:modelValue":a[4]||(a[4]=d=>n.value=d),class:"textarea",placeholder:"New Description"},null,512),[[b,n.value]])]),e("footer",oe,[e("a",{href:"#",onClick:a[5]||(a[5]=d=>m(t.task.id,n.value.value,r.value.value)),class:"card-footer-item"},"Save"),e("a",{href:"#",onClick:l,class:"card-footer-item"},"Cancel")])])):y("",!0)]))}},ne=N(le,[["__scopeId","data-v-4dd9564c"]]);const x=t=>(I("data-v-dacae38b"),t=t(),F(),t),ie={class:"is-flex is-flex-direction-column is-justify-content-center is-align-items-center"},ce=["onSubmit"],de=x(()=>e("button",{class:"button mt-4"},"Save",-1)),ue={class:"is-flex is-justify-content-center"},re={class:"tabs is-centered"},ve=x(()=>e("a",null,"To do",-1)),ke=[ve],pe=x(()=>e("a",null,"Done",-1)),_e=[pe],fe=x(()=>e("a",null,"All",-1)),me=[fe],he={class:"container tasks-section"},ge={class:"columns is-multiline is-flex is-justify-content-center"},Te={__name:"Home",setup(t){const s=V(),r=H();L();const n=i(""),_=i(!1),o=i(""),v=i(!1),l=i(),m=i(),w=()=>m.value=!m.value,c=M(()=>l.value==0?s.tasks.filter(u=>u.is_completed):l.value==1?s.tasks.filter(u=>!u.is_completed):s.tasks),a=async()=>{const u=await J();s.setTasks(u),console.log(s.tasks)};q(async()=>{await a()});const d=async()=>{if(n.value.length>0?_.value=!1:_.value=!0,o.value.length>0?v.value=!1:v.value=!0,console.log(n.value,o.value),_.value===!1&&v.value===!1){let u={user_id:r.id,title:n.value,description:o.value};console.log(u),await O(u)===!0&&console.log("nueva tarea agregada"),a(),n.value="",o.value=""}else console.log("from incompleto")},U=()=>(console.log(l.value),l.value=0),j=()=>(console.log(l.value),l.value=1),z=()=>(console.log(l.value),l.value=3);return(u,g)=>(k(),p(D,null,[C(K),e("div",ie,[e("button",{onClick:w,class:"button is-fullwidth m-5 add-button p-0"},"Add a new task"),m.value?(k(),p("form",{key:0,class:"box m-5m add-task-form",onSubmit:R(d,["prevent"])},[T(e("input",{"onUpdate:modelValue":g[0]||(g[0]=f=>n.value=f),class:"input",type:"text",placeholder:"Title"},null,512),[[b,n.value]]),T(e("textarea",{"onUpdate:modelValue":g[1]||(g[1]=f=>o.value=f),class:"textarea mt-4",placeholder:"Description"},null,512),[[b,o.value]]),de],40,ce)):y("",!0)]),e("div",ue,[e("div",re,[e("ul",null,[e("li",{onClick:U,class:h({"px-5 is-size-5":!0,"is-active":l.value===0})},ke,2),e("li",{onClick:j,class:h({"px-5 is-size-5":!0,"is-active":l.value===1})},_e,2),e("li",{onClick:z,class:h({"px-5 is-size-5":!0,"is-active":l.value===3})},me,2)])])]),e("div",he,[e("div",ge,[(k(!0),p(D,null,G(A(c),f=>(k(),p("div",{class:"column is-12-mobile is-4-tablet is-3-desktop",key:f.id},[C(ne,{task:f},null,8,["task"])]))),128))])])],64))}},xe=N(Te,[["__scopeId","data-v-dacae38b"]]);export{xe as default};
